{% extends 'base.html' %}

{% load static %}
{% block content %}
    <h3 style="text-align: center;">How Accessible is each station?</h3>
    <p>Click on the links below the map to submit feedback about a station </p>

    <!-- Main -->
    <main>
        <div id='map' style='width: 900px; height: 500px;'></div>
        <a href="https://www.maptiler.com" style="position:absolute;left:10px;bottom:10px;z-index:999;"><img src="https://api.maptiler.com/resources/logo.svg" alt="MapTiler logo"></a>
    </main>

    <!-- Scripts -->
    <script>
        const ICON_URL = '{% static "images/accessible_icon.jpg" %}';
    </script>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/protomaps-leaflet@latest/dist/protomaps-leaflet.min.js"></script>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />


    <script>
        const map = L.map('map', {maxZoom:12}).setView([40.69438888596156, -73.98923397215619], 10)
        var layer = protomapsL.leafletLayer({url:'https://isaacdonis.github.io/my_area.pmtiles'})
        layer.addTo(map)

        var markerCoordinates = [
        {lat: 40.615320974216964, lng: -73.94408359980547},
        {lat: 40.680260904136, lng: -73.92727200097477},
        {lat: 40.77070382483993, lng: -73.96672403146356}
      ];

      markerCoordinates.forEach(coord => {
        L.marker([coord.lat, coord.lng]).addTo(map);
      });

    </script>
    
{% endblock content %}